language: python
python:
- '3.5'
before_install:
- pip install -r requirements.txt
- git clone https://github.com/alexandrevicenzi/Flex.git
install:
- cp -r themes/templates Flex/templates
- pelican-themes -i Flex/
script:
- make html
deploy:
  provider: s3
  access_key_id:
    secure: fb28CE4X1W5P1lQbwD5xPbKbPggyZj0aRPHp6hAHofXOnOHSGrPadRjqXhwgSEQqV2SyfCWaxi4QDy24Dtw7a9tioHKCVVoDqsOjUVb+GAN6DPuDq0BfiAFk/oa4D4wU6SsU709oZCVNfBWyUE33qsWWmYSxiO3mAxp6zzaLKhDX+gGpJY54AFoUfESvIjv6Xi9+g9wSo6ePDvTmtMkqR0Ylmy7qpb7HdesungSvVpF4JsZD+8O2vhXEolSQSlMjoQIdTyOPwdVP4wPDdUDeZcN+SBAOcE2t8COmpkbUprKkTzWRdX2uuBgZUbFeVGVuUN1UtevmslWg85CHrpXgI5MZGRqrVYjynqwRQcqX0ugLFEbFAoC4k78TsXkdLA+HPCN+2p2o9IHxEgujeue4XsjzWnGcxGWqdOi/fr3+drGR2q6ZbYTeO3qOfyUOnPAgQqchvp7EK/eLkj+eZ5S2rJW9sp/ErbJahgG5JbQP3yyX9VHdn5/raI412jI+ycgZtj2lbhxcW1Dp7inLKn+cOlNFZeeLHUMBeL7q+gPpNxuFp7r+fLJ+pW9DynShXZdo84JRenU8FTV/njjbZOeV5ilLu/IcupKvUEf0TgwpjH3gEt+a2tM8jzkbvO8+b+/GYZeABSBCCQR9xfmL4Mra0tiF05hKzxREjFP4XHehXyM=
  secret_access_key:
    secure: kW8DSEcqKvWaBLp5byU8lWRcakS+u8/ZFKDE/irEzPGzmogyz7rDhY0/K8uYoHCIIyDvHY5Y69ajFBDymre2ZQ67mGJUrrxzUBfELII8wfuKQ5vAHQJBLRHMnQmkBeSlyOokKgOzxFf0Cboh8cTFLK8FN5ZmJ+NSDUj9NVjJ4oIfgaZ8EEn4tMsu4mZbFpzHRZenw2BC84KI1xCc7pAhYifREYZ9lJeHBSIIZCDNgLk9Mjksz0dS33xrSVVICUfhKNSyFSAuvwrHslQd1ct12AdLxRIHbB9P7AXxkF+44vin/Ska+62WOPRCS3a2obXS/c6/F59YJ62HY2HBCFRDipGAosClBAOLgaXYGD7vP5l49vMUPmDvtUvjDDue9caryuPb3iaU9MGpxzyQQ0KSYOLTCQ8zZO7Ydwadas6cIEeRxM/BhHnUeBiTRpy6a4VWZNCUrDphWQrdfr3wbOq/oH81Wx2D88qgAGHzkULSt7wBBKuVA8uMfwpWY9fY4c2M5sZgVu+d4dCq7S8lckVw/dkgZGQWRtmVYfHIGWRPOgkJp4x4eIyCG2p+ht1ysFuIjXYC1PYyp1rMRnXqvxI5DObFBzs16RNEk8UC4GrimGHRhDqrWE/XM4Tuch5BBFFbGw8ApOuCOaDAUXr3Di4g3OTPIjs/Czz0/BNzbRA7SsA=
  bucket: seyiobaweya.tech
  local-dir: output
  acl: public_read
  on:
    repo: seyio91/sample-blog
  skip_cleanup: true
after_deploy:
- aws configure set preview.cloudfront true
- aws cloudfront create-invalidation --distribution-id $CLOUDFRONT_ID --paths "/*"
env:
  global:
  - secure: Fdbz5XhUZWQXjsLRwcAEjqcLTXUTEWsUsnQTVJC/YC/6KoPvdhdNH2bWRttYPRHCLNDuEW5JhUHnO7I26VC/eA/uVGCgVBWK/0T+Pv41p0qIOTdBQV8VNLJi8iyYY8MPLQo9Ucw/xmtqb5rgKONAeeZX0yBL72ToMvVsV/Pd/5/f9doIbrC+C9g7A5i0O5/C8PwsV7dUf254Uu4EnVFajr/UVwYhjfWkpZOECwRNXgx06PVxLZeqg7DXSbFKrrc5XZcszE7/eT5P5o+lqmWjw2CPycQTs/t/DnjzoZcd046T4ChnEiDAhcwAKS/voltIoU2blWfaNddZeN5UFQG7Wj1b1vkp9EDo+3NpgDfUPCkKX2hbpMtWOWOIKY+bKsAN1tgvjmctV6FSzkktEWxh/Fbln32oGJO/4oAp79BNWELsNqYoRGh/TGujkKwyAmMJXktATsajnbOn1T8kSgCQKvo1ADroJvMX5zv381sgwfhXRvyhbbdb9Gw3NtYJ8TcJrCEUcYlm3ou2rbKocqwBh280DDJB/tWlDHMay+CVIGeQ3q4kD90JcViDZdPYs1b8Los5pexsNHfnCcfwxiBOUqM4qCtNgXrEk5+gOLCacOKuEFjAQEcbSUssieYs4es/DMCMdGaO2vhIxgJHvzaVGfr0scr0eAlPCLzi6Bfv5gg=
  
